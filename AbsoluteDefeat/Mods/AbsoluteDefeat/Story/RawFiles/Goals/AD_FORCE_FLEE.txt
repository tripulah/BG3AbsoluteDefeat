Version 1
SubGoalCombiner SGC_AND
INITSECTION

KBSECTION

QRY
QRY_CombatFlee_TryFleeToWaypoint((CHARACTER)_Player)
AND
QRY_CombatFlee_FindFleeWaypoint(_Player)
AND
DB_QRYRTN_CombatFlee_FoundFleeWaypoint(_Player,_WaypointTrigger,_Distance)
THEN
NOT DB_QRYRTN_CombatFlee_FoundFleeWaypoint(_Player,_WaypointTrigger,_Distance);
TeleportTo(_Player,_WaypointTrigger,"CMB_Fled",0,0,0,1,1);

QRY
QRY_CombatFlee_TryFleeToCamp((CHARACTER)_Player)
AND
QRY_Camp_SwapCampIfNecessary(_Player)
AND
DB_ActiveCamp(_ActiveCamp)
AND
DB_Camp(_ActiveCamp,_,_,_CampEntrance)
THEN
TeleportTo(_Player,_CampEntrance,"CMB_Fled",0,0,0,1,1);
EXITSECTION

ENDEXITSECTION
