new entry "AD_ACTION"
type "StatusData"
data "StatusType" "BOOST"
data "StackPriority" "1"
data "StatusGroups" "SG_ScriptedPeaceBehaviour"
data "StatusPropertyFlags" "LoseControl;DisableOverhead;DisableCombatlog;DisablePortraitIndicator"
data "OnApplyFunctors" "IF(HasHPLessThan(1) and not Dead()):RegainHitPoints(1)"

new entry "AD_ACTION_ALLY_ASSIST"
type "StatusData"
data "StatusType" "BOOST"
using "AD_ACTION"

new entry "AD_OOC_DOWNED"
type "StatusData"
data "StatusType" "DOWNED"
using "DOWNED"
// Survival Instinct
data "DisplayName" "h17fb7aacgb46ag4038g877fg378ee425555c;1"
data "Description" ""
data "Icon" "TadpoleSuperPower_SurvivalInstinct"
data "AnimationStart" "7e811df9-74e7-4515-bd02-7043164dbf33(STAT_Fallen_Peace_01_Start)"
data "AnimationLoop" "d7b7cf53-fe71-4a23-8011-9675a6e1d902(STAT_Fallen_Peace_01_Loop)"
data "AnimationEnd" "ade4cf7f-a34a-40c4-b810-096f0c186bc2(STAT_Fallen_Peace_01_End)"
data "StatusPropertyFlags" "DisableCombatlog;DisablePortraitIndicator"
data "OnApplyFunctors" "RemoveStatus(AD_OOC_DOWNED);RegainHitPoints(1)"
data "StatusGroups" "SG_Incapacitated"
data "HideOverheadUI" "1"

new entry "AD_DEFEATED"
type "StatusData"
data "StatusType" "DOWNED"
using "DOWNED"
StackPriority 2
data "Icon" "Status_Dying"
// Downed
data "DisplayName" "h65173af3g80bcg4b5cgaf75g73c5cc294390"
// You are defeated, and considered out of combat.
data "Description" "ha61d9461g40ebg4f45g9168gc5d0e2af24e4"
data "StatusPropertyFlags" "DisableOverhead"
data "StatusGroups" "SG_Helpable_Condition;SG_Incapacitated;AllowLeaveDisallowJoinCombat;"
data "StableRollDC" "0"
data "NumStableSuccess" "1"
data "NumStableFailed" "3"
data "StackPriority" "2"
data "RemoveConditions" "Dead()"
data "OnSuccess" "IF(IsDowned()):Stabilize()"
data "OnRollsFailed" "IF(IsDowned()):Stabilize()"
data "Boosts" "DownedStatus(AD_DEFEATED,10)"
data "OnApplyFunctors" "ApplyStatus(AD_DEFEATED_STATE, 100, -1);ApplyRemoveStatus(SG_Sleeping);RemoveStatus(BURNING);RemoveStatus(SG_Prone);RemoveStatus(SG_Restrained);RemoveStatus(PRONE);RemoveStatus(SLEEPING);RemoveStatus(SLEEP);RemoveStatus(ENSNARING_STRIKE);RemoveStatus(WEB);RemoveStatus(HYPNOTIC_PATTERN)"
//data "OnRemoveFunctors" "IF(HasHPLessThan(1) and not Dead()):RegainHitPoints(1)"

new entry "AD_DEFEATED_TEMP"
type "StatusData"
data "StatusType" "INCAPACITATED"
using "LIE_DYING"
// Downed
data "DisplayName" "h65173af3g80bcg4b5cgaf75g73c5cc294390"
// You are defeated, and considered out of combat.
data "Description" "ha61d9461g40ebg4f45g9168gc5d0e2af24e4"
data "StatusPropertyFlags" "DisableOverhead;AllowLeaveDisallowJoinCombat"
data "StatusGroups" "SG_Helpable_Condition"
data "OnApplyFunctors" "IF(HasHPLessThan(1) and not Dead()):RegainHitPoints(1);Stabilize();"

new entry "AD_SPARED_TEMP"
type "StatusData"
data "StatusType" "EFFECT"
// Spared
data "DisplayName" "h9ba78dfdgebbdg4e6egb515g40b44252d424"
// Enemies spared you for now, get out while you still can.
data "Description" "hdb162d64g3ddeg4d3dg8bacg8800a4303b3e"
data "Icon" "statIcons_Fugitive"
data "RemoveEvents" "OnAttack"
data "StatusPropertyFlags" "DisableCombatlog;AllowLeaveDisallowJoinCombat"

new entry "AD_NO_COMBAT_TECHNICAL"
type "StatusData"
data "StatusType" "BOOST"
data "Boosts" ""
data "StatusGroups" "SG_Unconscious"
data "StatusPropertyFlags" "DisableCombatlog;DisableCombatlog;DisablePortraitIndicator;AllowLeaveDisallowJoinCombat;"

new entry "AD_NO_COMBAT_TECHNICAL_HELPER"
type "StatusData"
data "StatusType" "EFFECT"
data "SoundVocalStart" "NONE"
data "StatusPropertyFlags" "DisableCombatlog;DisableCombatlog;DisablePortraitIndicator"
data "OnRemoveFunctors" "RemoveStatus(AD_NO_COMBAT_TECHNICAL)"

// is applied over the lifetime of a defeat scenario.
new entry "AD_DEFEATED_STATE"
type "StatusData"
data "StatusType" "BOOST"
data "StatusPropertyFlags" "DisableCombatlog;DisableCombatlog;DisablePortraitIndicator;"
data "OnApplyFunctors" "ApplyStatus(AD_NO_COMBAT_TECHNICAL,100,-1);"
data "OnRemoveFunctors" "ApplyStatus(AD_NO_COMBAT_TECHNICAL_HELPER,100,0.1);RemoveStatus(AD_EXPIRE_DEFEAT_TIMER);"

// forcefully ends a defeat scenrio when it ticks to 0.
new entry "AD_EXPIRE_DEFEAT_TIMER"
type "StatusData"
data "StatusType" "BOOST"
data "StackId" "DEFEAT_EXPIRE_TIMER"
//data "StatusPropertyFlags" "DisableCombatlog;DisableCombatlog;DisablePortraitIndicator;"
data "OnRemoveFunctors" "IF(RemoveCause(StatusRemoveCause.TimeOut)):ApplyStatus(AD_END_DEFEAT, 100, 0);"

new entry "AD_END_DEFEAT"
type "StatusData"
data "StatusType" "BOOST"
data "StatusPropertyFlags" "DisableCombatlog;DisableCombatlog;DisablePortraitIndicator;"
data "OnApplyFunctors" "IF(HasHPLessThan(1) and not Dead()):RegainHitPoints(1)"

new entry "AD_ACTION_TIMED_OUT"
type "StatusData"
data "StatusType" "BOOST"
data "StatusPropertyFlags" "DisableCombatlog;DisableCombatlog;DisablePortraitIndicator;"